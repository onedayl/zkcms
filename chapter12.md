# 评论管理

1. 有两个概念要需要先了解：
    - 文章评论是与文章链接绑定的，文章链接是发布新文章时在**链接**一栏填入的地址，当两个不同的频道（比如头条新闻和深圳热点）发了链接相同的文章，其评论是打通的，是同一份数据，执行了任何操作都会同时影响两篇文章，如下图的关系：
    ![](img/12-1.png)

    - 每一条评论有两个状态，分别是**审核状态**和**评论状态**：
        - **审核状态**
            - 审核状态用于标识该评论是否经过人工审核，有两种状态值：
                - “未审核”代表该评论未经过人工审核；         
                - “已审核”代表该评论已经过人工审核。              
            - 审核状态属于内部状态，需要关心这个状态的只有内部的运营人员；           
            - 审核状态对用户来说是不可感知的，并不能决定用户是否看到某条评论。           
        - **评论状态**
            - 评论状态用于标识该评论是否显示在客户端，有三种状态值：
                - “正常”代表该评论显示给用户看；
                - “屏蔽”代表该评论不显示给用户看；            
                - “待审核”代表该评论**暂时**不显示给用户看，需要经过人工审核来决定是否显示。                
            - 评论状态属于外部状态，用户可以感知，它决定了用户能看到哪些评论；
    - 审核状态和评论状态不存在必然的对应关系，是否审核不影响显示，是否显示不反应审核。

2. 要对文章评论进行管理，共有3个操作入口：
    - 第一个入口为频道文章列表“操作”中的**评论**选项，点击后将打开评论管理页面，此时显示该文章的所有评论，无论审核状态和评论状态是什么。
    ![](img/12-2.png)
    ![](img/12-3.png)

    - 第二、三个入口为文章列表“评论数”中的两个数字：
    ![](img/12-4.png)

        - 第一个数字指的是该文章未经审核的评论数，点击该数字也将打开评论管理页面，并筛选出审核状态为“未审核”的评论；
        ![](img/12-5.png)

        - 第二个数字指的是该文章已显示在客户端上的评论数，也就是用户能看到的评论数，点击该数字也将打开评论管理页面，并筛选出评论状态为“正常”的评论；
        ![](img/12-6.png)

3. 评论管理页面在结构上分为4个部分，从上到下分别为“标题栏+全局操作、“筛选工具栏”、“评论批量操作+排序工具栏”和“评论列表”：
    - **标题栏+全局操作**
    ![](img/12-7.png)

        - 左侧显示文章标题；
        - **刷新**可刷新整个页面； 
        - **关闭评论**是循环开关，在“关闭评论”和“开启评论”间切换，可设置文章是否允许用户评论；  
        - **开启文章评论待审核**是循环开关，在“开启文章评论待审核”和“停止文章评论待审核”间切换，开启后用户仍旧可以评论，但暂时不会显示在客户端，需等待人工审核；
        - 如上文所述，链接相同的文章其评论是打通的，考虑到评论安全管控的重要性，**开/关评论**和**开/关文章评论待审**这两个需要谨慎操作的功能暂时不开放，地区代理运营人员对评论管理规范有足够了解后可申请配置权限，当前阶段如果有需要进行这两个操作，请联系ZAKER编辑；
        - **发布正面评论**用于政治文章和广告文章，这两类文章需要人为地创造一种较“和谐”的评论氛围，可基于预先配置的评论库进行自动填充。

    - **筛选工具栏**
    ![](img/12-8.png)

        - 审核状态可选“未审核”、“已审核”和“不限”；
        - 评论状态可选“正常”、“屏蔽”、“待审核”和“不限”；
        - 是否匿名可选“正常”、“匿名”和“不限”；
        - 输入用户名可按用户名进行筛选；
        - 以上4个选项可叠加，如上图是筛选出“**所有匿名用户发表的未经审核但已被屏蔽的评论**”（例如评论中包含敏感词被系统自动屏蔽了）。

    - **评论批量操作+排序工具栏**
    ![](img/12-9.png)

        - **审核**
            - 通俗点讲就是“已阅”的意思，可将评论的“审核状态”改为“已审核”，不会改变“评论状态”，即编辑认可当前的评论状态，不管它是“正常”、“屏蔽（中了敏感词被自动屏蔽）”或是“待审核”；
            - 审核操作只对“审核状态”为“未审核”的评论有效。
        - **加赞**，客户端设有热评区，会把赞数最多的5条置顶 ，通过手动加赞，可以控制热评区出现哪几条评论。
        - **正常**
            - 把“评论状态”设为正常，客户端显示该评论；
            - “正常”只对“审核状态”为“未审核”的评论有效，执行操作后将会变成“已审核”。
        - **屏蔽**
            - 把“评论状态”设为屏蔽，客户端不显示该评论；
            - “屏蔽”只对“审核状态”为“未审核”的评论有效，执行操作后将会变成“已审核”。    
        - **强制正常**
            - 错手屏蔽了评论时可使用此功能纠正；          
            - “评论状态”会被设为正常，客户端显示该评论；  
            - “强制正常”只对“审核状态”为“已审核”的评论有效。
        - **强制屏蔽**
            - 错手放出了评论时可使用此功能纠正；
            - “评论状态”会被设为屏蔽，客户端不显示该评论；
            - “强制屏蔽”只对“审核状态”为“已审核”的评论有效。 
            
        > 通常情况下，使用加赞、审核、正常、屏蔽这4个功能就足够了，两个强制性的操作只是用于弥补错误，所以故意放到右边，请勿当作常规功能来使用，这样其实是放松了对操作准确性的要求。

        - **按时间排序**和**按赞排序**，如字面意思，改变下方评论列表的排序。

    - **评论列表**，列出筛选出来的评论，显示用户信息，评论内容以及相关状态等，另外也包括针对单条评论的操作，其中有2项是批量操作中没有的：
    ![](img/12-10.png)
        - **屏蔽（恶意性质）**
            - 相对普通屏蔽的区别是，此功能在屏蔽该条评论之余，还会记录为不良评论，当某个用户的不良评论达到```12```条时会被禁言```2```天；
            - 大部分用户在被屏蔽一次后，就知道不应该再发违规评论，所以**屏蔽（恶意性质）**适用于有再次“作案”倾向的用户，请注意区分，此功能属于更高一级的警告，请勿随意使用。
        - **将此用户加入黑名单**
            - 永久性拉黑，除非人工解除；
            - 只适用于屡教不改，多次挑战评论底线，想方设法钻敏感词库漏洞的人，请勿随意使用。
         

